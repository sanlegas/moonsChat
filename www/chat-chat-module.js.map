{"version":3,"sources":["./src/app/chat/chat.module.ts","./src/app/message/message.component.html","./src/app/chat/chat.page.scss","./src/app/chat/chat-routing.module.ts","./src/app/message/message.component.scss","./src/app/message/message.component.ts","./src/app/chat/chat.page.ts","./src/app/chat/chat.page.html","./src/app/models/message.ts","./src/app/service/socketManager/socket-manager.service.ts"],"names":[],"mappings":"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","file":"chat-chat-module.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ChatPage } from './chat.page';\n\nimport { Tab1PageRoutingModule } from './chat-routing.module';\nimport {MessageComponent} from '../message/message.component';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    Tab1PageRoutingModule\n  ],\n  declarations: [ChatPage, MessageComponent]\n})\nexport class Tab1PageModule {\n\n\n}\n","export default \"<ion-item>\\n  <ion-avatar [slot]=\\\"isUserMain? 'end':'start'\\\">\\n    <img [src] = imgUsr>\\n  </ion-avatar>\\n  <ion-label [ngStyle]=\\\"{'text-align': isUserMain ? 'right':'left'}\\\">\\n    <h2 [ngStyle]=\\\"{'text-align':isUserMain ? 'right':'left'}\\\">{{name}}</h2>\\n    <p [ngStyle]=\\\"{'text-align':isUserMain ? 'right':'left'}\\\">{{message}}</p>\\n  </ion-label>\\n</ion-item>\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjaGF0LnBhZ2Uuc2NzcyJ9 */\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ChatPage } from './chat.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatPage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab1PageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtZXNzYWdlLmNvbXBvbmVudC5zY3NzIn0= */\";","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-message',\n  templateUrl: './message.component.html',\n  styleUrls: ['./message.component.scss'],\n})\nexport class MessageComponent implements OnInit {\n  @Input()  name: string;\n  @Input()  message: string;\n  @Input()  isUserMain: boolean;\n\n  imgUsr: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    if (this.isUserMain){\n      this.imgUsr = 'https://electronicssoftware.net/wp-content/uploads/user.png';\n    }else{\n      this.imgUsr = 'https://img.pngio.com/avatar-icon-of-flat-style-available-in-svg-png-eps-ai-icon-png-avatar-256_256.png';\n    }\n  }\n\n}\n","import {Component, OnInit} from '@angular/core';\nimport {Message} from '../models/message';\nimport {UserManagerService} from '../service/userManager/user-manager.service';\nimport {SocketManagerService} from '../service/socketManager/socket-manager.service';\nimport {ToastController} from '@ionic/angular';\nimport {Router} from '@angular/router';\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'chat.page.html',\n  styleUrls: ['chat.page.scss']\n})\nexport class ChatPage implements OnInit{\n  mensajes: Message[] = [];\n  mensajeTxt: string;\n\n  constructor(private userManagerService: UserManagerService, private socketManager: SocketManagerService, private router: Router) {\n  }\n\n  private validateEmptyString(stringToValidate){\n    return stringToValidate !== undefined && stringToValidate !== null && stringToValidate !== '';\n  }\n\n  validate(): void{\n    if (!this.validateEmptyString(this.userManagerService.userName)){\n      this.router.navigate(['/tabs/config']);\n    }\n  }\n\n  ngOnInit(): void{\n    this.validate();\n    this.socketManager.getMessages().subscribe( (message: Message) => {\n      if (message.name !== this.userManagerService.userName){\n        message.isUserMain = false;\n        this.mensajes.push(message);\n      }\n    });\n  }\n  mandaMensaje(){\n    const  mensaje: Message = new Message();\n    mensaje.name = this.userManagerService.userName;\n    mensaje.message = this.mensajeTxt;\n    mensaje.isUserMain = true;\n\n    this.mensajes.push(mensaje);\n    this.socketManager.sendMessage(mensaje);\n    this.mensajeTxt = '';\n  }\n}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Chat\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Chat</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-list lines=\\\"none\\\">\\n\\n    <app-message  *ngFor=\\\"let mensaje of mensajes\\\" [name] = mensaje.name [message]=\\\"mensaje.message\\\" [isUserMain]=\\\"mensaje.isUserMain\\\"></app-message>\\n  </ion-list>\\n\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-item>\\n    <ion-input (keyup.enter)=\\\"mandaMensaje()\\\" [(ngModel)]=\\\"mensajeTxt\\\" placeholder=\\\"Escribe algo en el chat...\\\"></ion-input>\\n    <ion-button  size=\\\"medium\\\" (click)=\\\"mandaMensaje()\\\">Enviar</ion-button>\\n\\n  </ion-item>\\n</ion-footer>\\n\";","\nexport class Message{\n    name: string;\n    message: string;\n    isUserMain: boolean;\n}\n","import { Injectable } from '@angular/core';\nimport {Socket} from 'ngx-socket-io';\nimport {Observable, Observer} from 'rxjs';\nimport {Message} from '../../models/message';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketManagerService {\n\n  constructor(private socket: Socket) { }\n\n\n  public sendMessage(message: Message){\n    this.socket.emit('message', message);\n  }\n\n  public getMessages = () => {\n\n    return new Observable( (observer: Observer<any>) => {\n      this.socket.on('message', (msg) => {\n        observer.next(msg);\n      });\n    });\n  }\n\n}\n"],"sourceRoot":"webpack:///"}